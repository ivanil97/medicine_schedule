# Backend приложения для приема лекарств

**Стек**: Python3, FastAPI, PostgreSQL, Docker, Docker Compose

### Инструкция для запуска

Для запуска приложения нужно сделать следующее:

``` 
git clone https://github.com/ivanil97/medicine_schedule.git

cd medicine_schedule
```
Заполните файл *.env*, в качестве шаблона можно воспользоваться файлом *.env.template*
```
DB_USER= "имя пользователя базы данных PostgreSQL"
DB_PASS= "пароль для указанного пользователя базы данных"
DB_HOST= "имя контейнера с базой данных (в docker-compose задано как db)"
DB_NAME= "название базы данных, к которой будет осуществляться подключение"
DB_PORT= "порт, на котором работает база данных (по умолчанию 5432)"
DAY_START= "начало дня (8:00 в соответствии с ТЗ), часы без минут"
DAY_END= "конец дня (22:00 в соответствии с ТЗ), часы без минут"
NEXT_TAKING_PERIOD= "ближайший период для роута /next_takings?user_id=*USER_ID*, часы без минут"
```

```
docker-compose up --build -d
```

Это запустит приложение по адресу http://127.0.0.1:8000/

Описание API-эндпойнтов (Swagger) можно найти по адресу http://127.0.0.1:8000/docs


# Документация

### Создание расписания

Чтобы создать расписание для приема лекарства нужно сделать POST-запрос к роуту /schedule с данными следующего вида:

```
{
  "med_name": "Vitalex",
  "frequency": 3, // Количество раз в день
  "duration": 14, // Количество дней, None для постоянного приема
  "user_id": 1,
  "created_at": "2025-03-23T20:16:36.534Z" // Опциональный параметр
}
```

### Получение списка расписаний

Для получения списка идентификаторов существующих расписаний для указанного пользователя необходимо сделать GET-запрос к роуту /schedules?user_id=*USER_ID*

## Получение расписания с графиком приема на день

Для получения данных о выбранном расписании с рассчитанным графиком приёмов на день необходимо сделать GET-запрос к роуту /schedule?user_id=*USER_ID*&schedule_id=*SCHEDULE_ID*

## Получение данных о лекарствах для приема в ближайший период

Для получения данных о лекарствах, которые необходимо принять в ближайший период (задается в файле .env) необходимо сделать GET-запрос к роуту /next_takings?user_id=*USER_ID*

